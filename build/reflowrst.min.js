var reflowrst=(function(){var K=function(c,b){var d=[c[b]];var e=c[b].replace(a(c[b]),'');b+=1;while(b<c.length){if(g(c[b],e+' ')&&a(c[b])!=''&&!v(c,b)&&!j(c,b)&&!O(c,b)){d.push(a(c[b]));b+=1;}else{return[d.join(' '),b];}}return[d.join(' '),b];};var aQ=function(c,b){var d=[c[b]];var e=c[b].replace(a(c[b]),"");b+=1;while(b<c.length){if(g(c[b],e)&&a(c[b])!=" "){d.push("    "+a(c[b]));b+=1;}else{return[d.join("\n"),b];}}return[d.join("\n"),b];};var J=function(c,b){var d=[c[b]];var e=c[b].replace(a(c[b]),"");b+=1;while(b<c.length){if(g(c[b],e+" ")&&a(c[b])!=" "){d.push(c[b]);b+=1;}else{return[d.join("\n"),b];}}return[d.join("\n"),b];};var ab=function(b){if(isNaN(b))return NaN;var d=String(+b).split(""),e=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],a="",c=3;while(c--)a=(e[+d.pop()+(c*10)]||"")+a;return Array(+d.join("")+1).join("M")+a;};var aT=function(a){var a=a.toUpperCase();if(a.match(/[A-Z]/)==null){return 1;}return a.charCodeAt(0)-64;};var ai=function(a){if(a>64)a=26;if(a<1)a=1;return String.fromCharCode(64+a);};var T=function(e,i,f){var v=["V","X","L","C","D","M"];var l=e[i].match(d["enumerator"])[0];var q=l.replace(a(l),"");l=a(l);var k=l.replace(/\(|\)|\./g,"");var f=f||o(l);var h=f.split(" ")[0];var m=f.split(" ")[1];var z=0;var c=i;while(c>0){var w=(b(e[c])==""||g(e[c],q+" "));var t=(c<i&&j(e,c)&&e[c].replace(a(e[c]),"")==q);if(!w&&!t&&c<i){break;}else if(t){var s=a(e[c].match(d["enumerator"])[0]);var y=s.replace(/\(|\)|\./g,"");var n=o(s);var p=n.split(" ")[0];var r=n.split(" ")[1];if(p=="WILD"&&m==r){}else if(h=="WILD"&&m==r){}else if(c==i-1&&k.toUpperCase()=="I"&&p.split("_")[0]=="ALPHA"){if(k==k.toUpperCase()){h="ALPHA_UPPER";}else{h="ALPHA_LOWER";}f=h+" "+m;}else if(c==i-1&&v.indexOf(k.toUpperCase())!=-1&&p.split("_")[0]=="ROMAN"){if(k==k.toUpperCase()){h="ROMAN_UPPER";}else{h="ROMAN_LOWER";}f=h+" "+m;}else if(n!=f){c+=1;break;}}c-=1;}while(c<e.length){if(j(e,c)&&e[c].replace(a(e[c]),"")==q){break;}c+=1;}var u=a(e[c].match(d["enumerator"])[0]);var x=o(u);var A=x.split(" ")[0];var B=u.replace(/\(|\)|\./g,"").toUpperCase();return[c,f];};var aE=function(e,q){var k=e[q].match(d["enumerator"])[0];var u=k.replace(a(k),"");k=a(k);var w=T(e,q);var y=w[0];var r=w[1];var g=r.split(" ")[0];var m=r.split(" ")[1];if(g=="WILD"){return k;}var x=["V","X","L","C","D","M"];var t=0;var i=0;var A="NUMERIC PERIOD";for(var c=y; c<q+1; c++){if(!j(e,c)&&b(e[c-1])==""&&e[c].replace(a(e[c]),"").length<=u){break;}else if(j(e,c)&&e[c].replace(a(e[c]),"")==u){var p=a(e[c].match(d["enumerator"])[0]);var B=p.replace(/\(|\)|\./g,"");var h=o(p);var l=h.split(" ")[0];var n=h.split(" ")[1];if(h==r||(g=="WILD"&&n==m)||(l=="WILD"&&n==m)||(x.indexOf(B.toUpperCase())!=-1&&g.split("_")[0]=="ROMAN")){if(t==0){var h=o(p);var l=h.split(" ")[0];var n=h.split(" ")[1];A=n;var v=p.replace(/\(|\)|\./g,"");if(l=="WILD"){i=1;}else if(l=="NUMERIC"){i=parseInt(v);}else if(l.split('_')[0]=="ALPHA"){i=aT(v);}else{i=1;}}t+=1;}else{break;}}}var s=i+t-1;var f="1";if(g=="NUMERIC"){f=s.toString();}else if(g.split('_')[0]=="ALPHA"){f=ai(s);}else{f=ab(s);}if(g.split('_').length>1){var z=g.split('_')[1];if(z=="LOWER"){f=f.toLowerCase();}}if(m=="PERIOD"){f+=".";}else if(m=="PARENTHETIC"){f+=")";}else{f="("+f+")";}return f;};var aD=function(c,p){var g=c[p].match(d["enumerator"])[0];var n=g.replace(a(g),"");g=a(g);var x=g.replace(/\(|\)|\./g,"");var s=T(c,p);var u=s[0];var k=s[1];var l=k.split(" ")[0];var q=k.split(" ")[1];if(l.split("_")[0]=="ALPHA"){return" ";}var t=["V","X","L","C","D","M"];var i=0;for(var f=u; f<c.length; f++){if(!j(c,f)&&b(c[f-1])==""&&c[f].replace(a(c[f]),"").length<=n){break;}else if(j(c,f)&&c[f].replace(a(c[f]),"")==n){var h=a(c[f].match(d["enumerator"])[0]);var w=h.replace(/\(|\)|\./g,"");var m=o(h);var v=m.split(" ")[0];var r=m.split(" ")[1];if(m==k||(l=="WILD"&&r==q)||(v=="WILD"&&r==q)||(t.indexOf(w.toUpperCase())!=-1&&l.split("_")[0]=="ROMAN")){if(h.length>i){i=h.length;}}else{break;}}}return e(i+1-g.length," ");};var aP=function(c,f){var k=c[f].replace(a(c[f]),'');var h=c[f].match(d["enumerator"])[0];var l=a(c[f].substr(h.length));h=aE(c,f);c[f]=k+h+" "+l;var m=aD(c,f);var i=[k+h+m+l];for(var e=f+1; e<c.length; e++){if(b(c[e])!=""&&g(b(c[e]),k)&&!v(c,e)&&!j(c,e)){i.push(c[e]);}else{return[i.join('\n'),e];}}return[i.join('\n'),e];};var aC=function(c,j){var k=a(c[j].match(d["field"])[0]);var f=j;while(f>0){if(b(c[f])==""){break;}f-=1;}while(f<c.length){if(q(c,f)){break;}f+=1;}var h=0;var g=f;while(g<c.length){if(b(c[g])==""){break;}if(q(c,g)){var i=a(c[g].match(d["field"])[0]);if(i.length>h){h=i.length;}}g+=1;}return e(h+1-k.length," ");};var I=function(c,h){var f=c[h].replace(a(c[h]),'');var m=aC(c,h);var k=a(c[h].match(d["field"])[0]);var l=a(c[h].substr((f+k).length));var i=[f+k+m+l];var j="";for(var e=h+1; e<c.length; e++){if(j==""&&g(b(c[e]),f+" ")){i.push(c[e]);j=c[e].replace(a(c[e]),"");}else if((g(b(c[e]),j)&&j!=f)||b(c[e])==""){if(f==""||(c[e].replace(a(c[e]),"")!=f)){i.push(c[e]);}else{return[i.join('\n'),e];}}else{break;}}return[i.join('\n'),e];};var aO=function(d,f){var c=[];for(var b=f; b<d.length; b++){var e=a(d[b])[0];if(e!="|"&&e!='+'){return[c.join('\n'),b];}c.push(d[b]);}return[c.join('\n'),b];};var aN=function(c,a){var d=[b(c[a]),b(c[a+1]),b(c[a+2])].join('\n');return[d,a+3];};var aA=function(c,j){var k=a(c[j].match(d["option"])[0]);var f=j;while(f>0){if(b(c[f])==""){break;}f-=1;}while(f<c.length){if(u(c,f)){break;}f+=1;}var h=0;var g=f;while(g<c.length){if(b(c[g])==""){break;}if(u(c,g)){var i=a(c[g].match(d["option"])[0]);if(i.length>h){h=i.length;}}g+=1;}return e(h+2-k.length," ");};var aM=function(c,e){var i=c[e].replace(a(c[e]),'');var l=aA(c,e);var j=a(c[e].match(d["option"])[0]);var k=a(c[e].substr((i+j).length));var h=[i+j+l+k];for(var f=e+1; f<c.length; f++){if(g(b(c[f]),i+" ")){h.push(c[f]);}else{return[h.join('\n'),f];}}return[h.join('\n'),f];};var X=function(c,b){var e=[c[b]];var f=c[b].replace(a(c[b]),'');b+=1;while(b<c.length){if(g(c[b],f)&&a(c[b])!=''){e.push(c[b]);b+=1;}else{var d=e.join("\n");return[d,b];}}var d=e.join("\n");return[d,b];};var aL=function(c,e){var f=c[e];var d=[c[e]];for(var a=e+1; a<c.length; a++){d.push(c[a]);if(b(c[a])==f){if(a==c.length-1){return[d.join('\n'),a+1];}else if(b(c[a+1])==""){return[d.join('\n'),a+1];}}}return[d.join('\n'),a+1];};var aK=function(c,a){var d=[b(c[a]),b(c[a+1])].join('\n');return[d,a+2];};var v=function(a,b){if(a[b].match(d["bullet"])){return true;}return false;};var R=function(a,b){if(a[b].match(d["comment"])!=null){return true;}return false;};var ar=function(b,c){if(c<b.length-1){var d=b[c].replace(a(b[c]),"");if(a(b[c+1])!=""&&g(b[c+1],d+" ")){return true;}}return false;};var Q=function(a,b){if(a[b].match(/^ *\.\. /)!=null&&a[b].match(/::/)!=null){return true;}return false;};var j=function(c,b){var f=c[b].replace(a(c[b]),"");var e=c[b].match(d["enumerator"]);if(e==null){return false;}var g=a(e[0]);var h=o(g);if(h.match(/ROMAN/)){if(!aI(g.replace(/\(|\)|\./g,""))){return false;}}if(f.length>0&&b>0){if(b==0){return true;}else if(a(c[b-1])==""){return true;}else if(c[b-1].replace(a(c[b-1]),"")==f&&j(c,b-1)){return true;}else if(b>1&&t(c,b-2)){return true;}else{return false;}}return true;};var q=function(c,b){var e=c[b].replace(a(c[b]),"");var f=c[b].match(d["field"]);if(f==null){return false;}if(e.length>0&&b>0){if(a(c[b-1])==""){return true;}else if(c[b-1].replace(a(c[b-1]),"")==e&&q(c,b-1)){return true;}else if(c[b-1].replace(a(c[b-1]),"").length>e.length){return true;}else if(b>1&&t(c,b-2)){return true;}else if(c[b-1].replace(a(c[b-1]),"").length<e.length&&(Q(c,b-1)||P(c,b-1)||R(c,b-1))){return true;}else{return false;}}return true;};var aq=function(b,c){if(g(a(b[c]),'+---')){return true;}};var aY=function(c,a){var e=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_","`","{","|","}","~"];if(b(c[a]).length>=4){var d=c[a][0];if(e.indexOf(d)!=-1&&l(b(c[a]),d)&&a>0&&a<k(b(c.join('\n'))).length-1&&b(c[a-1])==""&&b(c[a+1])==""){return true;}}return false;};var ao=function(d,e){var g=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_","`","{","|","}","~"];var d=d;var e=e;if(e>d.length-3){return false;}if(g.indexOf(a(d[e])[0])!=-1){var f=a(d[e])[0];if(l(c(d[e]),[f])&&l(c(d[e+2]),[f])&&c(d[e]).length>=b(d[e+1]).length&&c(d[e]).length==c(d[e+2]).length){return true;}return false;}return false;};var u=function(c,b){var e=c[b].replace(a(c[b]),"");if(c[b].match(d["option"])!=null){if(e.length>0&&b>0){if(a(c[b-1])==""){return true;}else if(c[b-1].replace(a(c[b-1]),"")==e&&u(c,b-1)){return true;}else if(c[b-1].replace(a(c[b-1]),"").length>e.length){return true;}else if(b>1&&t(c,b-2)){return true;}else{return false;}}return true;}return false;};var an=function(b,d){var a=c(b[d]);if(l(a,['=',' '])&&a.split(' ').length>1&&a.replace(/[^\=]/g).length>3){return true;}return false;};var P=function(a,b){if(a[b].match(d["substitution_definition"])!=null){return true;}return false;};var t=function(b,d){var e=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_","`","{","|","}","~"];if(d>b.length-2){return false;}if(e.indexOf(a(b[d+1])[0])!=-1){var f=a(b[d+1])[0];if(l(c(b[d+1]),[f])&&c(b[d]).length==c(b[d+1]).length){return true;}return false;}return false;};var O=function(a,b){if(a[b].match(d["todo"])){return true;}return false;};var n=function(g,e){if(!e||e<0){e=0;}var f=[];g=B(g,"\t","    ");var d=k(g);var c=[];var a=0;while(a<d.length){if(b(d[a])==""){f.push("");a++;}else if(ao(d,a)){c=aN(d,a);f.push(ae(c[0],e));a=c[1];}else if(t(d,a)){c=aK(d,a);f.push(c[0]);a=c[1];}else if(an(d,a)){c=aL(d,a);var h=_(c[0]);var i=al(h,e);f.push(i);a=c[1];}else if(aq(d,a)){c=aO(d,a);var h=S(c[0]);var n=am(h,e);f.push(n);a=c[1];}else if(q(d,a)){c=I(d,a);f.push(M(c[0],e));a=c[1];}else if(v(d,a)){c=K(d,a);f.push(ah(c[0],e));a=c[1];}else if(O(d,a)){c=K(d,a);f.push(ac(c[0],e));a=c[1];}else if(j(d,a)){c=aP(d,a);f.push(af(c[0],e));a=c[1];}else if(u(d,a)){c=aM(d,a);f.push(ad(c[0],e));a=c[1];}else if(Q(d,a)){c=J(d,a);f.push(C(c[0],e));a=c[1];}else if(P(d,a)){c=J(d,a);f.push(C(c[0],e));a=c[1];}else if(R(d,a)){c=J(d,a);f.push(C(c[0],e));a=c[1];}else if(ar(d,a)){c=aQ(d,a);f.push(ag(c[0],e));a=c[1];}else{c=X(d,a);f.push(m(c[0],e));a=c[1];}}var l=b(f.join("\n"));return l;};var al=function(c,d){var f=c["table"];var g=c["spans"];var i=c["header_row"];var e=c["leading_space"];var d=d-e.length;var h=aJ(f,g,i);var a=k(h);for(var b=0; b<a.length; b++){a[b]=e+a[b];}return a.join('\n');};var aX=function(a,c){var a=a||0;var c=c||0;var d=[];for(var b=a; b<c+1; b++){d.push(b);}return d;};var aS=function(a){return a.reduce(function(b,a){return b.map(function(b){return a.map(function(a){return b.concat(a);});}).reduce(function(b,a){return b.concat(a);},[]);},[[]]);};var au=function(f){var f=n(f,0);var e=k(f);var d=[];var c=[];var a=0;while(a<e.length){if(b(e[a])==""){a++;}else if(q(e,a)){c=I(e,a);d=d.concat(aB(c[0]));a=c[1];}else if(v(e,a)){c=K(e,a);d=d.concat(aH(c[0]));a=c[1];}else{c=X(e,a);d=d.concat(az(c[0]));a=c[1];}}d=Array.from(new Set(d)).sort(function(b,a){if(b<a)return-1;if(b>a)return 1;});return d;};var N=function(e,m,k){var d=[];for(var a=0; a<e.length; a++){d.push([]);for(var c=0; c<e[a].length; c++){var b=i(a,c,m);var g=f(b);if(g>1&&b[0][0]==a&&b[0][1]==c){var l=b[0][1];var o=b[b.length-1][1];var j=k.slice(l,o+1).reduce(h)+((g-1)*3);}else{j=k[c];}var p=e[a][c];d[a].push(n(p,j));}}return d;};var Y=function(c,g,i,k){var e=N(c,g,k);var d=[];for(var a=0; a<c.length; a++){for(var b=0; b<c[a].length; b++){var j=i[a][b].split('\n').length;var f=e[a][b].split('\n').length;d.push((f/j)-1);}}return d.reduce(h);};var am=function(z,q){var d=z["table"];var g=z["spans"];var B=z["use_headers"];var G=z["leading_space"];var q=q-G.length;var g=D(d,g);var O=d[0].length;var E=q-((O+1)+(2*O));var t=[];var v=[];var u=[];for(var b=0; b<d.length; b++){t.push([]);v.push([]);u.push([]);for(var a=0; a<d[b].length; a++){t[b][a]=n(d[b][a],0);v[b][a]=n(d[b][a],1);u[b][a]=n(d[b][a],q-4);}}var K=A(v,g,B);var P=A(t,g,B);var L=w(t,g);var m=w(v,g);if(L.reduce(h)<=E+(2*L.length)||q==0){var r=P;}else if(m.reduce(h)>E+(2*m.length)){var r=K;}else{var o=[];for(var b=0; b<d.length; b++){o.push([]);for(var a=0; a<d[b].length; a++){var j=i(b,a,g);var s=f(j);if(s==1){o[b].push(au(d[b][a]));}else{o[b].push([]);}}}var k=[];for(var a=0; a<d[0].length; a++){k.push([]);}for(var b=0; b<o.length; b++){for(var a=0; a<o[b].length; a++){k[a]=k[a].concat(o[b][a]);}}for(var a=0; a<k.length; a++){k[a]=Array.from(new Set(k[a])).sort(function(b,a){if(b<a)return-1;if(b>a)return 1;});}for(var a=0; a<k.length; a++){k[a]=k[a].filter(function(b){return b>=m[a]-2;});}var e=aS(k);var I=[];for(var b=0; b<d.length; b++){for(var a=0; a<d[b].length; a++){var j=i(b,a,g);var s=f(j);if(s>1&&j[0][0]==b&&j[0][1]==a){I.push(j);}}}for(var c=0; c<I.length; c++){var j=I[c];var s=f(j);var Q=j[0][0];var p=j[0][1];var R=d[Q][p];var U=x(n(R,1))-((s-1)*3);var H=j[j.length-1][1];for(var l=0; l<e.length; l++){while(e[l].slice(p,H+1).reduce(h)<U){var V=Math.min.apply(Math,e[l].slice(p,H+1));var W=e[l].slice(p,H+1).indexOf(V)+e[l].slice(0,p).length;e[l][W]+=1;}}}c=0;while(c<e.length){if(e[c].reduce(h)>E||e[c].reduce(h)+(2*m.length)<=m.reduce(h)){e.splice(c,1);}else{c+=1;}}if(e.length==0){return K;}var M=10000;if(e.length>M){aa(e);}var T=Y(d,g,u,m);var J={most_ugly:m};var F=T;for(var c=0; c<e.length&&c<M; c++){var C=Y(d,g,u,e[c]);if(C<F){F=C;}J[C]=e[c];}var S=N(d,g,J[F]);var r=A(S,g,B);}if(G.length>0){var y=r.split('\n');for(var c=0; c<y.length; c++){y[c]=G+y[c];}r=y.join('\n');}return r;};var ah=function(b,k){var l=b.replace(a(b),'');var n=a(b).match(d["bullet"])[0];var o=c(b.substr(l.length+n.length));var p=' ';var g=l+n+p;var j=k-g.length;if(k>0&&j<1){j=g.length;}var i=m(o,j);var f=i.split('\n');for(var h=1; h<f.length; h++){f[h]=e(g.length," ")+f[h];}i=g+f.join('\n');return i;};var ag=function(d,e){var a=d.split("\n");var c=[b(a[0])];a.splice(0,1);var f=m(a.join("\n"),e);c.push(f);return(c.join("\n"));};var C=function(f,g){var b=f.split('\n');var h=b[0].replace(a(b[0]),"");var d=[b[0]];b.splice(0,1);var c=0;var e=[];while(c<b.length){if(q(b,c)){e=I(b,c);d.push(M(e[0],g));c=e[1];}else{break;}}b.splice(0,c+1);d=d.concat(b);return d.join("\n");};var af=function(f,n){var k=f.replace(a(f),'');var l=c(f.match(d["enumerator"])[0]);var b=f.substr((k+l).length);var o=b.replace(a(b),"").split('\n')[0];b=c(b);var j=k+l+o;var i=m(b,n-j.length);var g=i.split('\n');for(var h=1; h<g.length; h++){g[h]=e(j.length," ")+g[h];}i=j+g.join('\n');return i;};var M=function(k,r){var p=k.replace(a(k),'');var q=c(k.match(d["field"])[0]);var i=k.substr((p+q).length);if(c(i)==""){return p+q+i;}var s=i.replace(a(i),"").split('\n')[0];i=a(i);var n=p+q+s;var g=i.split('\n');var h=[[g[0]]];g.splice(0,1);for(var f=0; f<g.length; f++){g[f]=a(g[f]);}for(var f=0; f<g.length; f++){if(g[f].length>0){h[h.length-1].push(g[f]);}else{h.push([""]);if(f<g.length-1){h.push([]);}}}for(var f=0; f<h.length; f++){h[f]=h[f].join('\n');}var j=[];var o=r-n.length;if(r>0&&o<1){o=n.length;}for(var f=0; f<h.length; f++){j.push(b(m(h[f],o)));}j=j.join('\n');var l=j.split('\n');for(var f=1; f<l.length; f++){l[f]=e(n.length," ")+l[f];}j=n+l.join('\n');return j;};var ae=function(l,g){var g=g;var d=k(l);var j=d[0].replace(a(d[0]),'');for(var f=0; f<d.length; f++){d[f]=d[f].substr(j.length);}d[1]=a(d[1]);var h=d[0].length;var i=a(d[0])[0];if(h<=g){d[1]=b(L(d[1],h));}else if(b(d[1]).length<=g){d[0]=e(g,i);d[1]=b(L(d[1],g));d[2]=d[0];}else{d[0]=e(c(d[1]).length,i);d[1]=c(d[1]);d[2]=d[0];}for(var f=0; f<d.length; f++){d[f]=j+d[f];}return d.join('\n');};var ad=function(f,n){var l=f.replace(a(f),'');var k=c(f.match(d["option"])[0]);var b=f.substr((l+k).length);var o=b.replace(a(b),"").split('\n')[0];b=c(b);var j=l+k+o;var i=m(b,n-j.length);var g=i.split('\n');for(var h=1; h<g.length; h++){g[h]=e(j.length," ")+g[h];}i=j+c(g.join('\n'));return i;};var as=function(d){var f=false;var c=[""];var a=0;while(a<d.length){if(a<d.length-1&&d[a]=="`"&&d[a+1]=="`"&&f==false){c.push("``");f=true;a+=2;}else if(a<d.length-1&&d[a]=="`"&&d[a-1]=="`"&&f==true){c[c.length-1]+=d[a];f=false;c.push("");a+=1;}else{if(d[a]=="\n"&&f==false){c[c.length-1]+=" ";}else{c[c.length-1]+=d[a];}a+=1;}}var e=[];for(var a=0; a<c.length; a++){if(g(c[a],"``")){var i=c[a].split("\n");for(var h=0; h<i.length-1; h++){i[h]=b(i[h])+"\n";}e=e.concat(i);}else{e=e.concat(aR(c[a].split(" ")));}}return e;};var m=function(h,i){var f=h.split('\n');var g=f[0].replace(a(f[0]),"");for(var c=0; c<f.length; c++){f[c]=f[c].substr(g.length);}var h=f.join('\n');var k=i-g.length;var d=as(h);if(i<=0){var b=g;for(var c=0; c<d.length; c++){if(b[b.length-1]!="\n"){if(b==g){b+=d[c];}else{b+=" "+d[c];}}else{b+=d[c];}}return b;}var b="";var e=[];while(d.length>0){if(b==""){b+=d[0];d.splice(0,1);}else if(b[b.length-1]=="\n"){e.push(b);b="";}else if((b+' '+d[0]).length<=k){b+=' '+d[0];d.splice(0,1);}else{e.push(b+'\n');b="";}}e.push(b);for(var c=0; c<e.length; c++){e[c]=g+e[c];}var j=e.join('');return j;};var ac=function(b,l){var j=b.replace(a(b),'');var k=a(b).match(d["todo"])[0];var n=c(b.substr(j.length+k.length));var o=' ';var i=j+k+o;var h=m(n,l-i.length);var f=h.split('\n');for(var g=1; g<f.length; g++){f[g]=e(i.length," ")+f[g];}h=i+f.join('\n');return h;};var g=function(b,c){if(b.length==0){return false;}for(var a=0; a<c.length; a++){if(b[a]!=c[a]){return false;}}return true;};var L=function(c,d){var b=d-c.length;var a=Math.floor(b/2);var f=e(a,' ')+c+e(b-a,' ');return f;};var aR=function(a){var b=0;while(b<a.length){a[b]=c(a[b]);if(a[b]==''){a.splice(b,1);}else{b+=1;}}return a;};var aU=function(a){for(var c=0; c<a.length; c++){for(var f=0; f<a[c].length; f++){var d=a[c][f].split('\n');for(var e=0; e<d.length; e++){if(d[e]!=""){d[e]=" "+b(d[e])+" ";}a[c][f]=d.join("\n");}}}return a;};var aj=function(a){var b=0;while(a.length>1){var c=0;while(c<a.length){if(a[b].merge(a[c])==true){if(b>c){b-=1;}a.splice(c,1);}else{c+=1;}}b+=1;if(b>=a.length){b=0;}}return a[0].text;};var ak=function(p,c,u,q,o){var d=F(c,u);var l=aw(c,q);var i=c[0][0];var j=c[0][1];var g=p[i][j];var b=g.split('\n');for(var a=0; a<b.length; a++){var n=d-b[a].length;b[a]=b[a]+e(n," ");}var t=l-b.length;var m=[];for(var a=0; a<t; a++){m.push(e(d," "));}b=b.concat(m);var h=["+"+e(d,"-")+"+"];for(var a=0; a<l; a++){h.push("|"+b[a]+"|");}if(o==true&&c[0][0]==0){var k="=";}else{var k="-";}h.push("+"+e(d,k)+"+");g=h.join("\n");var s=r(c);var v=f(c);var w=new aV(g,i,j,s,v);return w;};var A=function(b,a,d){var d=d||false;var a=a||[[[0,0]]];var b=aU(b);a=D(b,a);var h=w(b,a);var f=av(b,a);var c=[];for(var e=0; e<a.length; e++){var i=ak(b,a[e],h,f,d);c.push(i);}c=c.sort(function(b,a){if([b.row,b.column]<[a.row,a.column]){return-1;};if([b.row,b.column]>[a.row,a.column]){return 1;};});var g=aj(c);return g;};var aJ=function(d,k,p,j){var k=k||[[[0,0]]];var p=p||-1;var j=j||"  ";for(var a=0; a<d.length; a++){for(var c=0; c<d[a].length; c++){d[a][c]=B(d[a][c],"\n"," ");}}k=D(d,k);var n=w(d,k);var m="";for(var l=0; l<n.length; l++){m+=e(n[l],"=")+j;}m=b(m);var r=[];var u=[];for(var a=0; a<d.length; a++){for(var c=0; c<d[a].length; c++){var h=i(a,c,k);var q=f(h);if(a<=p||q>1){r.push(a);}if(q>1){u.push(a);}}}r=Array.from(new Set(r));var g=m+"\n";var o=[];var t=[];for(var a=0; a<d.length; a++){for(var c=0; c<d[a].length; c++){var h=i(a,c,k);var v=i(h[0][0],h[0][1],t);if(v==null){o.push(h);t.push(h);if(r.indexOf(a)!=-1){var q=f(h);var s=F(h,n,j);g+=L(d[a][c],s)+j;}else{g+=d[a][c]+e(n[c]-d[a][c].length," ")+j;}}}g=b(g)+"\n";if(u.indexOf(a)!=-1){for(var l=0; l<o.length; l++){var q=f(h);var s=F(o[l],n,j);g+=e(s,"-")+j;}g=b(g)+"\n";}o=[];if(a==p){g+=m+"\n";}}g+=m;return g;};var aI=function(a){var a=a.toUpperCase(),d=/^M*(?:D?C{0,3}|C[MD])(?:L?X{0,3}|X[CL])(?:V?I{0,3}|I[XV])$/,e=/[MDLV]|C[MD]?|X[CL]?|I[XV]?/g,f={M:1000,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1},b=0,c;if(!(a&&d.test(a)))return false;while(c=e.exec(a))b+=f[c[0]];return b;};var o=function(a){var b="NUMERIC";var c="PERIOD";if(a[0]=="("){c="BIPARENTHETIC";}else if(a[a.length-1]==")"){c="PARENTHETIC";}a=a.replace(/\(|\)|\./g,"");if(isNaN(a)){if(a.match(/[a-z]/)!=null){if(a.length==1&&a!="i"){b="ALPHA_LOWER";}else{b="ROMAN_LOWER";}}else if(a.match(/[A-Z]/)!=null){if(a.length==1&&a!="i"){b="ALPHA_UPPER";}else{b="ROMAN_UPPER";}}else{b="WILD";}}return b+" "+c;};var h=function(a,b){return a+b;};var s=function(c,f,g,b){var b=b||{};var i={"used_pairs":[],"border_map":[],"direction":"RIGHT"};var h=Object.keys(b);for(var d=0; d<h.length; d++){i[h[d]]=b[h[d]];}b=i;var a=[];if(b["direction"]=="RIGHT"){for(var e=g+1; e<c[f].length; e++){b["used_pairs"].push([f,e]);if(c[f][e]=="+"){a=[f,e];break;}}}else if(b["direction"]=="LEFT"){for(var e=g-1; e>-1; e--){b["used_pairs"].push([f,e]);if(c[f][e]=="+"){a=[f,e];break;}}}else if(b["direction"]=="UP"){for(var d=f-1; d>-1; d--){b["used_pairs"].push([d,g]);if(c[d][g]=="+"){a=[d,g];break;}}}else if(b["direction"]=="DOWN"){for(var d=f+1; d<c.length; d++){b["used_pairs"].push([d,g]);if(c[d][g]=="+"){a=[d,g];break;}}}if(!p(a,b["border_map"])){b["border_map"].push(a);}var j=['-','='];if(a[1]<c[a[0]].length-1&&j.indexOf(c[a[0]][a[1]+1])!=-1&&!p([a[0],a[1]+1],b["used_pairs"])){b["direction"]="RIGHT";b=s(c,a[0],a[1],b);}if(a[1]>0&&j.indexOf(c[a[0]][a[1]-1])!=-1&&!p([a[0],a[1]-1],b["used_pairs"])){b["direction"]="LEFT";b=s(c,a[0],a[1],b);}if(a[0]>0&&c[a[0]-1][a[1]]=="|"&&!p([a[0]-1,a[1]],b["used_pairs"])){b["direction"]="UP";b=s(c,a[0],a[1],b);}if(a[0]<c.length-1&&c[a[0]+1][a[1]]=="|"&&!p([a[0]+1,a[1]],b["used_pairs"])){b["direction"]="DOWN";b=s(c,a[0],a[1],b);}return b;};var aZ=function(b,a,c){"If I've found a '+' character, is it a cell corner?";if(b[a][c]!="+"){return false;}var d=['-','='];if(c=b[a].length-1){return true;}else if(c>b[a].length-4){return false;}else if(d.indexOf(b[a][c+1])!=-1&&d.indexOf(b[a][c+2])!=-1){if(a==b.length-1&&b[a-1][c]=='|'){return true;}else if(a==0&&b[a+1][c]=='|'){return true;}else if(b[a-1][c]=='|'&&b[a+1][c]=='|'){return true;}else{return false;}}return false;};var at=function(c,b){var d=[];var e=['-','='];for(var a=0; a<b.length; a++){if(b[a][0]<c.length-1&&b[a][1]<c[b[a][0]].length-1&&e.indexOf(c[b[a][0]][b[a][1]+1])!=-1&&c[b[a][0]+1][b[a][1]]=="|"){d.push(b[a]);}}return d;};var V=function(b,a){var e=a[1];for(var d=a[1]+1; d<b[a[0]].length; d++){if(b[a[0]][d]=="+"&&b[a[0]+1][d]=="|"){e=d;break;}}var g=["-","="];var f=a[0];for(var c=a[0]+1; c<b.length; c++){if(b[c][e]=="+"&&g.indexOf(b[c][e-1])!=-1){f=c;break;}}return[f,e];};var U=function(a,g){var b=G(g);var c=b[0];var e=b[1];var d=c.indexOf(a[0]);var f=e.indexOf(a[1]);return[d,f];};var aG=function(g,e){var j=V(g,e);var c=[];for(var f=e[0]+1; f<j[0];f++){c.push(b(g[f].substring(e[1]+1,j[1]-1)));}c=k(Z(c.join('\n')));var h=g[0];for(var d=0; d<c.length; d++){if(b(c[d])!=""){var i=c[d].replace(a(c[d]),"");if(i.length<h.length){h=i;}}}for(var d=0; d<c.length; d++){c[d]=c[d].substring(h.length);}return b(c.join('\n'));};var aF=function(q,o,c){var j=U(c,o);var k=G(o);var b=k[0];var d=k[1];var n=V(q,c);var g=0;for(var a=0; a<b.length; a++){if(c[0]==b[a]){g=a;break;}}var l=0;for(var a=0; a<b.length; a++){if(n[0]==b[a]){l=a;break;}}var h=0;for(var a=0; a<d.length; a++){if(c[1]==d[a]){h=a;break;}}var m=0;for(var a=0; a<d.length; a++){if(n[1]==d[a]){m=a;break;}}var i=[];var p=l-g;var r=m-h;for(var e=0; e<p; e++){for(var f=0; f<r; f++){i.push([j[0]+e,j[1]+f]);}}return i;};var ap=function(b){for(var a=0; a<b.length; a++){if(l(c(b[a]),["+","="])){return true;}}return false;};var G=function(b){var c=[];var d=[];for(var a=0; a<b.length; a++){if(c.indexOf(b[a][0])==-1){c.push(b[a][0]);}if(d.indexOf(b[a][1])==-1){d.push(b[a][1]);}}c.sort(function(b,a){if(b<a)return-1;if(b>a)return 1;});d.sort(function(b,a){if(b<a)return-1;if(b>a)return 1;});return[c,d];};var S=function(g){if(c(g)==""||c(g)[0]!="+"){return{"table":[[""]],"spans":[[[0,0]]],"use_headers":false,"leading_space":""};}var d=k(g);var n=d[0].replace(a(d[0]),'');for(var b=0; b<d.length; b++){d[b]=d[b].substr(n.length);}var f=s(d,0,0)["border_map"].sort(function(b,a){if(b[0]<a[0])return-1;if(b[0]>a[0])return 1;if(b[0]==a[0]&&b[1]<a[1])return-1;if(b[0]==a[0]&&b[1]>a[1])return 1;});var m=G(f);var o=m[0];var r=m[1];var p=o.length-1;var t=r.length-1;var h=W(p,t);var e=at(d,f);for(var b=0; b<e.length; b++){var l=U(e[b],f);h[l[0]][l[1]]=aG(d,e[b]);}var i=[];for(var b=0; b<e.length; b++){var j=aF(d,f,e[b]);if(j.length>1){i.push(j);}}var q={"table":h,"spans":i,"use_headers":ap(d),"leading_space":n};return q;};var aV=function(a,d,g,c,f){this.text=a;this.row=d;this.column=g;this.row_count=c;this.column_count=f;this.get_left_sections=function(){var c=this.text.split('\n');var b=0;for(var a=0; a<c.length; a++){if(c[a][0]=="+"){b+=1;}}return b-1;};this.get_right_sections=function(){var b=this.text.split('\n');var c=0;for(var a=0; a<b.length; a++){if(b[a][b[a].length-1]=="+"){c+=1;}}return c-1;};this.get_top_sections=function(){var a=this.text.split('\n')[0];return a.split("+").length-2;};this.get_bottom_sections=function(){var a=this.text.split('\n');var b=a[a.length-1];return b.split("+").length-2;};this.is_header=function(){var a=this.text.split('\n');var b=a[a.length-1];return l(b,["+","="]);};this.h_center_cell=function(){var d=this.text.split('\n');var f=d[0].length-2;var c=[];for(var a=1; a<d.length-1; a++){var g=b(d[a].slice(2,d[a].length-2));c.push(g);}c.push('');c.splice(0,0,"");var j=x(c.join('\n'));var i=f-j;var k=Math.floor(i/2);var l=e(k," ");for(var a=0; a<c.length; a++){c[a]=l+c[a];var h=f-c[a].length;c[a]+=e(h," ");}for(var a=1; a<d.length-1; a++){d[a]=d[a][0]+c[a]+d[a][d[a].length-1];}this.text=d.join('\n');};this.v_center_cell=function(){var c=this.text.split('\n');var m=c[0].length-2;var d=[];for(var a=1; a<c.length-1; a++){var k=c[a].slice(1,c[a].length-1);d.push(k);}var l=d.length;var j=0;for(var a=0; a<d.length; a++){if(b(d[a])==""){j+=1;}else{break;}}var i=0;for(var a=d.length-1; a>0; a--){if(b(d[a])==""){i+=1;}else{break;}}var f=d.slice(j,d.length-i);var g=l-f.length;var h=e(m," ");var o=Math.floor(g/2);for(var a=0; a<o; a++){f.splice(0,0,h);}var n=Math.ceil(g/2);for(var a=0; a<n; a++){f.push(h);}f.splice(0,0,"");f.push("");for(var a=1; a<c.length-1; a++){c[a]=c[a][0]+f[a]+c[a][c[a].length-1];}this.text=c.join('\n');};this.mergeableDirection=function(a){var d=this.column;var c=this.column+this.column_count;var b=this.row;var e=this.row+this.row_count;var h=a.column;var g=a.column+a.column_count;var f=a.row;var i=a.row+a.row_count;if(c==h&&b==f&&e==i&&this.get_right_sections()>=a.get_left_sections()){return"RIGHT";}else if(d==h&&c==g&&b==i&&this.get_top_sections()>=a.get_bottom_sections()){return"TOP";}else if(d==h&&c==g&&e==f&&this.get_bottom_sections()>=a.get_top_sections()){return"BOTTOM";}else if(d==g&&b==f&&e==i&&this.get_left_sections()>=a.get_right_sections()){return"LEFT";}else{return"NONE";}};this.merge=function(c){var a=this.text.split('\n');var b=c.text.split('\n');if(this.mergeableDirection(c)=="RIGHT"){for(var d=0; d<a.length; d++){a[d]=a[d]+b[d].substring(1);}this.text=a.join('\n');this.column_count+=c.column_count;return true;}else if(this.mergeableDirection(c)=="TOP"){if((a[0].match(/\+/g)||[]).length>(b[b.length-1].match(/\+/g)||[]).length){b.pop();}else{a=a.slice(1);}b=b.concat(a);this.text=b.join('\n');this.row_count+=c.row_count;this.row=c.row;this.column=c.column;return true;}else if(this.mergeableDirection(c)=="BOTTOM"){if((a[a.length-1].match(/\+/g)||[]).length>(b[b.length-1].match(/\+/g)||[]).length){b.splice(0,1);}else{a.pop();if(this.is_header()){b[0]=B(b[0],"-","=");}}a=a.concat(b);this.text=a.join('\n');this.row_count+=c.row_count;return true;}else if(this.mergeableDirection(c)=="LEFT"){for(var d=0; d<a.length; d++){a[d]=b[d].substring(0,b[d].length-1)+a[d];}this.text=a.join('\n');this.column_count+=c.column_count;this.row=c.row;this.column=c.column;return true;}else{return false;}};if(this.is_header()){this.h_center_cell();this.v_center_cell();}else if(this.row_count>1){this.v_center_cell();}return this;};var aH=function(e){var h=e.replace(a(e),'');var e=a(e);var f=e.split(" ");var d=[];var g=f.splice(0,2).join(" ");for(var c=0; c<f.length; c++){g+=f[c]+" ";d.push(b(g).length);}d=Array.from(new Set(d)).sort(function(b,a){if(b<a)return-1;if(b>a)return 1;});for(var c=0; c<d.length; c++){d[c]+=h.length;}return d;};var aB=function(d){var j=d.replace(a(d),'');var d=a(d);var i=d.match(/(^\:|^ +[\:]).*?:(?= |$)/)[0];var f=d.substr(i.length);var k=f.replace(a(f),'');f=a(f);var g=f.split(" ");var e=[];var h=i+k+g[0];for(var c=0; c<g.length; c++){h+=g[c]+" ";e.push(b(h).length);}e=Array.from(new Set(e)).sort(function(b,a){if(b<a)return-1;if(b>a)return 1;});for(var c=0; c<e.length; c++){e[c]+=j.length;}return e;};var az=function(e){var h=e.replace(a(e),'');var e=a(e);var f=e.split(" ");var d=[];var g="";for(var c=0; c<f.length; c++){g+=f[c]+" ";d.push(b(g).length);}d=Array.from(new Set(d)).sort(function(b,a){if(b<a)return-1;if(b>a)return 1;});for(var c=0; c<d.length; c++){d[c]+=h.length;}return d;};var W=function(d,e){var a=[];for(var b=0; b<d; b++){a.push([]);for(var c=0; c<e; c++){a[a.length-1].push("");}}return a;};var x=function(d){var b=d.split('\n');var c=0;for(var a=0; a<b.length; a++){if(b[a].length>c){c=b[a].length;}}return c;};var F=function(g,h,b){var b=b||"";var e=g[0][1];var d=f(g);var a=0;for(var c=e; c<e+d; c++){a+=h[c];}if(b==""){a+=d-1;}else{a+=(b.length*(d-1));}return a;};var f=function(a){var d=a[0][1];var c=d;for(var b=0; b<a.length; b++){if(a[b][1]>c){c=a[b][1];}}return(c-d)+1;};var i=function(c,d,b){for(var a=0; a<b.length; a++){if(p([c,d],b[a])){return b[a];}}return null;};var aw=function(d,f){var c=d[0][0];var e=r(d);var a=0;for(var b=c; b<c+e; b++){a+=f[b];}a+=e-1;return a;};var r=function(a){var c=1;var d=a[0][0];for(var b=0; b<a.length; b++){if(a[b][0]>d){c+=1;d=a[b][0];}}return c;};var w=function(g,o){var b=[];for(var a=0; a<g[0].length; a++){b.push(3);}for(var d=0; d<g.length; d++){for(var a=0; a<g[d].length; a++){var c=i(d,a,o);var j=f(c);if(j==1){var m=c[0][0];var e=c[0][1];var n=g[m][e];var k=x(n);if(k>b[a]){b[a]=k;}}}}for(var d=0; d<g.length; d++){for(var a=0; a<g[d].length; a++){var c=i(d,a,o);var j=f(c);if(j>1){var m=c[0][0];var e=c[0][1];var n=g[m][e];var k=x(n);var l=c[c.length-1][1];var p=b.slice(e,l+1).reduce(h)+(j-1);while(k>p){var q=Math.min.apply(Math,b.slice(e,l+1));var r=b.slice(e,l+1).indexOf(q)+b.slice(0,e).length;b[r]+=1;p=b.slice(e,l+1).reduce(h)+(j-1);}}}}return b;};var av=function(c,k){var p={};for(var e=0; e<k.length; e++){p[k[e].toString()]=0;}var f=[];for(var e=0; e<c.length; e++){f.push(-1);}for(var a=0; a<c.length; a++){for(var b=0; b<c[a].length; b++){var n=c[a][b];var g=i(a,b,k);var d=r(g);var l=n.split('\n').length;if(d==1&&l>f[a]){f[a]=l;}}}for(var a=0; a<c.length; a++){for(var b=0; b<c[a].length; b++){var g=i(a,b,k);var d=r(g);if(d>1){var j=g[0][0];var o=g[0][1];var n=c[j][o];var l=n.split('\n').length-(d-1);var m=0;while(l>f.slice(j,j+d).reduce(h)){f[j+m]+=1;if(m+1<d){m+=1;}else{m=0;}}}}}return f;};var D=function(d,e){var a=[];for(var b=0; b<d.length; b++){for(var c=0; c<d[b].length; c++){var f=i(b,c,e);if(f==null){a.push([[b,c]]);}}}a=a.concat(e);a=a.sort(function(b,a){if(b[0]<a[0])return-1;if(b[0]>a[0])return 1;if(b[0]==a[0]&&b[1]<a[1])return-1;if(b[0]==a[0]&&b[1]>a[1])return 1;});return a;};var p=function(c,b){for(var a=0; a<b.length; a++){if(b[a][0]==c[0]&&b[a][1]==c[1]){return true;}}return false;};var l=function(b,c){if(b==''){return false;}for(var a=0; a<b.length; a++){if(c.indexOf(b.substring(a,a+1))==-1){return false;}}return true;};var a=function(a){return a.replace(/^\s+/g,"");};var d={"field":/(^\:|^ +[\:]).*?:(?= | *$)/,"bullet":/^ *(\*|-|\+|•|‣|⁃)(?= | *$)/,"enumerator":/^ *([A-Za-z]|#|[0-9]+|[ivxlcdmIVXLCDM]+)(\.|\))(?= |$)|^ *\(([A-Za-z]|#|[0-9]+|[ivxlcdmIVXLCDM]+)\)(?= | *$)/,"option":/^ *(((-[a-zA-Z0-9])|(--([a-zA-Z0-9]+[a-zA-Z0-9_-]*))|(\/[a-zA-Z0-9_-]+)|(\+[a-zA-Z]))(( |=)([a-zA-Z][a-zA-Z0-9_-]+)|( |=)(<[^<>]+>))?(, )?)+(?=  | *$)/,"footnote":/^ *\.\. \[([0-9]|#([A-Za-z0-9]([A-Za-z0-9]|[-_\.\:\+](?![-_\.\:\+]))+[A-Za-z0-9])?|\*)\](?= | *$)/,"citation":/^ *\.\. \[[A-Za-z0-9]([A-Za-z0-9]|[-_\.\:\+](?![-_\.\:\+]))+[A-Za-z0-9]\](?= | *$)/,"hyperlink":/^ *\.\. _[A-Za-z0-9]([A-Za-z0-9]|[-_\.\:\+](?![-_\.\:\+]))+[A-Za-z0-9]\:(?= | *$)|^ *\.\. __\:(?= | *$)|^ *__(?= | *$)/,"directive":/^ *\.\. [A-Za-z0-9]([A-Za-z0-9]|[-_\.\:\+](?![-_\.\:\+]))+[A-Za-z0-9]\:\:(?= | *$)/,"substitution_definition":/^ *\.\. \|\S.*\S\| [A-Za-z0-9]([A-Za-z0-9]|[-_\.\:\+](?![-_\.\:\+]))+[A-Za-z0-9]\:\:(?= | *$)/,"comment":/^ *\.\.(?= | *$)/,"todo":/^ *\[[ x]\](?= | *$)/};var B=function(a,b,c){while(a.indexOf(b)!==-1){a=a.replace(b,c);}return a;};var b=function(a){return a.replace(/\s+$/,"");};var aa=function(a){var b=a.length,d,c;while(0!==b){c=Math.floor(Math.random()*b);b-=1;d=a[b];a[b]=a[c];a[c]=d;}return a;};var y=function(f){var c=f.split(" ");var d=0;for(var b=1; b<c.length; b++){if(a(c[b])!=""){break;}else{d+=1;}}var g=e(d+1," ");return g;};var H=function(b){var e=y(b);var d=b.split(e);var c=[];for(var a=0; a<d.length; a++){c.push(d[a].length);}return c;};var z=function(f){var i=[];var a="";var g=y(f);var h=H(f,g);for(var d=0; d<h.length; d++){var c=[];c.push(a.length);a+=e(h[d],"-")+g;c.push(b(a).length-1);i.push(c);}return i;};var E=function(b,e,d){if(l(b,["-"," "])){var c=[].concat.apply([],z(b));for(var a=0; a<b.length; a++){if(b[a]=="-"){if(a==0||a==b.length-1||b[a-1]==" "||b[a+1]==" "){if(c.indexOf(a)==-1){return false;}}}}return true;}return false;};var ay=function(a){var e=y(a[0]);var f=H(a[0]);var c=0;var d=-1;for(var b=1; b<a.length-1; b++){if(a[b]!=a[0]&&!E(a[b],f,e)){c+=1;}else if(a[b]==a[0]){d=c-1;}}return[c,d];};var ax=function(h,e,g){var c=z(h);var b=[];for(var a=0; a<c.length; a++){if(e[0]==c[a][0]){b.push(a);}if(e[1]==c[a][1]){b.push(a);break;}}b=Array.from(new Set(b)).sort(function(b,a){if(b<a)return-1;if(b>a)return 1;});var f=[];for(var d=0; d<b.length; d++){f.push([g,b[d]]);}return f;};var _=function(s){var w={};var b=k(s);var o=b[0].replace(a(b[0]),'');for(var d=0; d<b.length; d++){b[d]=b[d].substr(o.length);}var p=y(b[0]);var l=H(b[0]);var f=z(b[0]);var q=ay(b);var t=q[0];var v=q[1];var j=W(t,l.length);var m=[];var h=0;for(var d=1; d<b.length-1; d++){if(b[d]!=b[0]&&!E(b[d],l,p)){if(E(b[d+1],l,p)){var g=z(b[d+1]);for(var e=0; e<g.length; e++){var n=ax(b[0],g[e],h);var r=n[0][1];var i=c(b[d].slice(g[e][0],g[e][1]+1));j[h][r]=i;m.push(n);}}else{for(var e=0; e<f.length; e++){if(e==f.length-1){var i=c(b[d].slice(f[e][0],b[d].length));}else{var i=c(b[d].slice(f[e][0],f[e][1]+1));}j[h][e]=i;}}h+=1;}}var u={"table":j,"spans":m,"header_row":v,"leading_space":o};return u;};var aW=function(b,a){return a-b;};var e=function(d,c){var a='';var b=0;for(b=0; b<d; b++){a=a+c;}return a;};var k=function(c){var d=/\r\n|\n\r|\n|\r/g;var a=c.replace(d,"\n").split("\n");for(var b=0; b<a.length; b++){a[b]=a[b].replace(/\s+$/,"");}return a;};var c=function(a){return a.replace(/^\s+/g,"").replace(/\s+$/,"");};var Z=function(e){var a=k(e);var d=0;for(var c=0; c<a.length; c++){if(b(a[c])==""){d+=1;}else{break;}}a.splice(0,d);return b(a.join('\n'));};self={};self.data2rst=A;self.grid2data=S;self.get_span_column_count=f;self.get_span_row_count=r;self.reflow=n;return self;}());